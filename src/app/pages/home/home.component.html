<div class="carousel">
    <img [src]="images[currentIndex].url" class="carousel-image" (click)="goToTipo(images[currentIndex].tipo)"
        alt="Imagen carrusel" />

    <div class="overlay-text">
        <h2>{{ currentOverlay.title }}</h2>
        <p>{{ currentOverlay.subtitle }}</p>
    </div>

    <div class="carousel-controls">
        <button class="arrow left" (click)="prevImage()">
            <mat-icon>chevron_left</mat-icon>
        </button>
        <button class="arrow right" (click)="nextImage()">
            <mat-icon>chevron_right</mat-icon>
        </button>
    </div>
</div>

<section class="latest-recipes-section">
    <h2 class="section-title">Últimas recetas</h2>

    <div class="recipes-grid">
        <div *ngFor="let recipe of latestRecipes" class="recipe-card" (click)="verDetalle(recipe.id)">
            <img [src]="recipe.imageUrl" [alt]="recipe.title" />
            <h3>{{ recipe.title }}</h3>
            <p>{{ recipe.description }}</p>
            <small class="autor">
                <img [src]="recipe.authorAvatar || 'assets/avatars/avatar2.png'" alt="Avatar {{ recipe.authorName }}"
                    class="avatar" />
                {{ recipe.authorName }}      
            </small>
        </div>
    </div>
</section>

<section class="top-liked-section">
    <h2 class="section-title">Recetas más populares</h2>

    <div class="recipes-grid">
        <div *ngFor="let recipe of topLikedRecipes" class="recipe-card" (click)="verDetalle(recipe.id)">
            <img [src]="recipe.imageUrl" [alt]="recipe.title" />
            <h3>{{ recipe.title }}</h3>
            <p>{{ recipe.description }}</p>
            <small class="autor">
                <img [src]="recipe.authorAvatar || 'assets/avatars/avatar2.png'" alt="Avatar {{ recipe.authorName }}"
                    class="avatar" />
                {{ recipe.authorName }}
            </small>
        </div>
    </div>
</section>

<section class="categorias-destacadas-section">
    <h2 class="section-title">Categorías destacadas</h2>
    <app-categorias-destacadas></app-categorias-destacadas>
</section>

<button class="boton-flotante" (click)="mostrarCTA = !mostrarCTA">
    <mat-icon>{{ mostrarCTA ? 'close' : 'add' }}</mat-icon>
</button>

<div class="cta-expandido" *ngIf="mostrarCTA" [@fadeInOut]>
    <h2>¿Tienes una receta que compartir?</h2>
    <p>¡Comparte tus mejores creaciones con la comunidad!</p>
    <button class="btn-crear" (click)="crearReceta()">
        <mat-icon>add_circle_outline</mat-icon>
        Crear receta
    </button>
</div>